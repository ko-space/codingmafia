:root{--bg:#0f172a;--card:#111827;--line:#1f2937;--text:#e2e8f0;--muted:#94a3b8;--brand:#2563eb;--accent:#10b981;--danger:#ef4444}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
.app{max-width:1200px;margin:0 auto;padding:16px}
.app-header{position:sticky;top:0;background:linear-gradient(180deg,#0f172acc,#0f172a00 70%);backdrop-filter:blur(4px);z-index:10;padding-bottom:8px}
.title-center{text-align:center;margin:8px 0 10px 0}
.you{text-align:center;opacity:.8;margin-top:6px}
.top-bars{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px}
.bar{display:grid;grid-template-columns:auto 1fr auto;gap:8px;align-items:center}
.progress{height:12px;background:#0b1220;border:1px solid var(--line);border-radius:8px;overflow:hidden}
.progress>div{height:100%;width:0;background:linear-gradient(90deg,var(--brand),#60a5fa)}
.controls{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
.controls input{padding:8px;border-radius:8px;border:1px solid var(--line);background:#0b1220;color:#f8fafc}
.controls button{padding:8px 12px;border-radius:10px;border:none;background:var(--brand);color:#fff;cursor:pointer}
.controls .host-only{display:none;background:var(--accent)}
.avatar-fold{width:100%}
.avatar-controls{display:flex;gap:8px;margin:6px 0}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(72px,1fr));gap:10px}
.avatar-btn{padding:0;border:none;background:transparent;cursor:pointer;border-radius:12px;overflow:hidden;border:2px solid transparent}
.avatar-btn.active{border-color:var(--brand)}
.avatar-img{width:100%;height:72px;object-fit:cover;display:block}
.game{display:grid;grid-template-columns:280px 1fr 320px;gap:12px;align-items:start}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px}
.players ul{list-style:none;margin:0;padding:0}
#playerList li{display:grid;grid-template-columns:40px 1fr auto;gap:10px;align-items:center;padding:6px 8px;border-bottom:1px solid var(--line)}
.player-avatar{width:40px;height:40px;border-radius:50%;object-fit:cover;border:1px solid var(--line)}
.dead{opacity:.5;text-decoration:line-through}
#taskArea .choices{display:grid;gap:8px;margin-top:8px}
#taskArea button{padding:8px 12px;border-radius:8px;border:1px solid var(--line);background:#0b1220;color:#fff;cursor:pointer}
#taskArea .task-controls{margin-top:8px}
.day-only{background:var(--accent);border-color:#064e3b}
.chat-log{max-height:320px;overflow:auto;border:1px solid var(--line);border-radius:8px;padding:8px;background:#0b1220}
.chat-line{margin:4px 0}
.chat-send{display:flex;gap:8px;margin-top:8px}
.chat-send input{flex:1;padding:8px;border-radius:8px;border:1px solid var(--line);background:#0b1220;color:#fff}
.logs ul{list-style:none;margin:0;padding:0}
.logs li{border-bottom:1px solid var(--line);padding:6px 4px}
.hidden{display:none}
.muted{color:var(--muted)}
.quiz-q{font-weight:600;margin-bottom:6px}
.blackout{position:fixed;inset:0;background:#000000e0;display:flex;align-items:center;justify-content:center;z-index:100}
.blackout-text{font-size:28px;color:#fff;text-align:center;line-height:1.6;animation:fadeScale .35s ease}
@keyframes fadeScale{from{opacity:0;transform:scale(.96)}to{opacity:1;transform:scale(1)}}
